webpackJsonp([3,4,5,6,7],{"+sFQ":function(e,t){},"26dS":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),a=s("NYxO"),r=s("7Yuv"),o=s("H0Nb"),l=s("jKLp"),c=s("U0+J"),u={components:{MenuBar:r.default,NavBar:o.default,ViewsBar:l.default,Settings:c.default},data:function(){return{}},computed:n()({},Object(a.b)(["settings"]),{isCollapse:function(){return this.settings.collapseMenu},showViewsBar:function(){return this.settings.showViewsBar}})},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-container",{staticClass:"full-height"},[s("el-aside",{class:[e.isCollapse?"collpase":"expand"]},[s("menu-bar",{staticClass:"aside-menu",attrs:{"is-collapse":e.isCollapse}})],1),e._v(" "),s("el-container",{staticClass:"full-height"},[s("el-header",{staticClass:"top-header"},[s("nav-bar"),e._v(" "),e.showViewsBar?s("views-bar"):e._e()],1),e._v(" "),s("el-scrollbar",{staticClass:"full-height"},[s("div",{staticClass:"full-height main"},[s("router-view")],1)])],1),e._v(" "),s("settings",{attrs:{open:"open"}})],1)},staticRenderFns:[]};var h=s("VU/8")(u,d,!1,function(e){s("YAhr")},"data-v-5787eb4d",null);t.default=h.exports},"7Yuv":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),a=s("uQBQ"),r=s("NYxO"),o={components:{MenuItem:a.default},props:{isCollapse:{type:Boolean,default:!1}},data:function(){return{menuList:[]}},computed:n()({},Object(r.b)(["dynamicRouters"]),{menus:function(){return this.dynamicRouters}}),methods:{handleSelect:function(e,t){}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-scrollbar",{staticClass:"full-height"},[t("el-menu",{staticClass:"menu",attrs:{collapse:this.isCollapse,"background-color":"#545c64","text-color":"#fff"},on:{select:this.handleSelect}},[t("el-menu-item",{attrs:{index:"0"}},[this.isCollapse?t("i",{staticClass:"el-icon-s-home"}):t("div",[this._v("模拟")])]),this._v(" "),this._l(this.menus,function(e){return t("menu-item",{key:e.id,attrs:{menu:e,"base-path":e.path}})})],2)],1)},staticRenderFns:[]};var c=s("VU/8")(o,l,!1,function(e){s("+sFQ")},"data-v-60256830",null);t.default=c.exports},"F+O8":function(e,t){},H0Nb:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),a=s("NYxO"),r={data:function(){return{items:[],show:!1}},watch:{$route:function(){this.getBreadcrumb()}},mounted:function(){this.getBreadcrumb()},computed:n()({},Object(a.b)(["settings"]),{showBreadCrumb:function(){return this.settings.showBreadCrumb}}),methods:{getBreadcrumb:function(){this.show=!1;var e=this.$route.matched.filter(function(e){if(e.name)return!0}),t=e[0];t&&"home"===t.name&&(e.splice(0,1),t=e[0]),t&&"首页"!==t.name&&(e=[{path:"/",name:"首页",fixed:!0,meta:{fixed:!0}}].concat(e)),e.length>=4&&e.splice(1,1),this.items=e,this.show=!0},toggleMenu:function(){this.$store.dispatch("updateSettings",{key:"collapseMenu",type:"toggle"})},openSettings:function(){this.$store.dispatch("updateSettings",{key:"openSetting",value:!0})},handleCommand:function(e){switch(e){case"settings":this.openSettings()}}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"nav-bar"},[s("div",{staticClass:"nav-bar-left"},[s("button",{staticClass:"toggle-btn",on:{click:e.toggleMenu}},[s("i",{staticClass:"el-icon-s-fold"})]),e._v(" "),s("transition",{attrs:{name:"el-fade-in-linear"}},[e.showBreadCrumb?s("el-breadcrumb",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{separator:"/"}},e._l(e.items,function(t,i){return s("el-breadcrumb-item",{key:t.name},[0==i&&1!=e.items.length?s("a",{attrs:{href:t.path}},[e._v(e._s(t.name))]):s("span",[e._v(e._s(t.name))])])}),1):e._e()],1)],1),e._v(" "),s("div",{staticClass:"nav-bar-right"},[s("ul",[s("li",[s("el-tooltip",{attrs:{effect:"dark",content:"消息",placement:"bottom"}},[s("el-badge",{attrs:{value:5}},[s("i",{staticClass:"el-icon-message-solid"})])],1)],1),e._v(" "),s("li",[s("el-tooltip",{attrs:{effect:"dark",content:"便签",placement:"bottom"}},[s("i",{staticClass:"el-icon-s-order"})])],1),e._v(" "),s("li",[s("el-tooltip",{attrs:{effect:"dark",content:"分享",placement:"bottom"}},[s("i",{staticClass:"el-icon-share"})])],1),e._v(" "),s("li",{on:{click:e.openSettings}},[s("el-tooltip",{attrs:{effect:"dark",content:"设置",placement:"bottom"}},[s("i",{staticClass:"el-icon-s-tools"})])],1)]),e._v(" "),s("div",{staticClass:"avatar"},[s("el-avatar",{attrs:{size:"small",src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}})],1),e._v(" "),s("el-dropdown",{on:{command:e.handleCommand}},[s("span",{staticClass:"dropdown-menu"},[e._v("\n        admin\n        "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{icon:"el-icon-user-solid"}},[e._v("基本资料")]),e._v(" "),s("el-dropdown-item",{attrs:{icon:"el-icon-info"}},[e._v("关于我们")]),e._v(" "),s("el-dropdown-item",{attrs:{command:"settings",icon:"el-icon-s-tools"}},[e._v("系统设置")]),e._v(" "),s("el-dropdown-item",{attrs:{divided:"",icon:"el-icon-error"}},[e._v("退出登录")])],1)],1)],1)])},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(e){s("yfbe")},"data-v-29df3c04",null);t.default=l.exports},TciU:function(e,t){},"U0+J":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),a=s("NYxO"),r={data:function(){return{}},computed:n()({},Object(a.b)(["settings"]),{drawer:function(){return this.settings.openSetting},showViewsBar:{get:function(){return this.settings.showViewsBar},set:function(e){this.$store.dispatch("updateSettings",{key:"showViewsBar",value:e})}},keepViewsByRefresh:{get:function(){return this.settings.keepViewsByRefresh},set:function(e){this.$store.dispatch("updateSettings",{key:"keepViewsByRefresh",value:e})}},collapseMenu:{get:function(){return this.settings.collapseMenu},set:function(e){this.$store.dispatch("updateSettings",{key:"collapseMenu",value:e})}},showBreadCrumb:{get:function(){return this.settings.showBreadCrumb},set:function(e){this.$store.dispatch("updateSettings",{key:"showBreadCrumb",value:e})}}}),methods:{handleClose:function(){this.$store.dispatch("updateSettings",{key:"openSetting",value:!1})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-drawer",{attrs:{"show-close":!1,visible:e.drawer,"before-close":e.handleClose},on:{"update:visible":function(t){e.drawer=t}}},[s("div",{staticClass:"setting-container"},[s("div",[s("h3",{staticClass:"setting-title"},[e._v("系统设置")]),e._v(" "),s("div",{staticClass:"setting-item"},[s("span",[e._v("开启视图页签")]),e._v(" "),s("el-switch",{staticClass:"setting-switch",model:{value:e.showViewsBar,callback:function(t){e.showViewsBar=t},expression:"showViewsBar"}})],1),e._v(" "),s("div",{staticClass:"setting-item"},[s("span",[e._v("刷新保留其他视图")]),e._v(" "),s("el-switch",{staticClass:"setting-switch",model:{value:e.keepViewsByRefresh,callback:function(t){e.keepViewsByRefresh=t},expression:"keepViewsByRefresh"}})],1),e._v(" "),s("div",{staticClass:"setting-item"},[s("span",[e._v("收缩菜单栏")]),e._v(" "),s("el-switch",{staticClass:"setting-switch",model:{value:e.collapseMenu,callback:function(t){e.collapseMenu=t},expression:"collapseMenu"}})],1),e._v(" "),s("div",{staticClass:"setting-item"},[s("span",[e._v("开启面包屑")]),e._v(" "),s("el-switch",{staticClass:"setting-switch",model:{value:e.showBreadCrumb,callback:function(t){e.showBreadCrumb=t},expression:"showBreadCrumb"}})],1)])])])},staticRenderFns:[]};var l=s("VU/8")(r,o,!1,function(e){s("TciU")},"data-v-c4c92524",null);t.default=l.exports},YAhr:function(e,t){},fSNW:function(e,t){},jKLp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("BO1k"),n=s.n(i),a=s("Gu7T"),r=s.n(a),o=s("o/zv"),l=s.n(o),c=(s("YaEn"),s("SQ6o")),u={data:function(){return{visible:!1,top:0,left:0,fixedTags:[],selectedTag:{}}},computed:{visitedViews:function(){return this.$store.state.viewsBar.visitedViews}},watch:{$route:function(){this.addViewTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addViewTags()},methods:{isActive:function(e){return e.path===this.$route.path},filterFixedViews:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return e.forEach(function(e){if(e.fixed){var n=l.a.resolve(s,e.path);i.push({fullPath:n,path:n,name:e.name,fixed:e.meta&&e.meta.fixed})}if(e.children){var a=t.filterFixedViews(e.children,e.path);a.length>=1&&(i=[].concat(r()(i),r()(a)))}}),i},initTags:function(){var e=this.fixedTags=this.filterFixedViews(c.a.getDynamicRouters()),t=!0,s=!1,i=void 0;try{for(var a,r=n()(e);!(t=(a=r.next()).done);t=!0){var o=a.value;o.name&&this.$store.dispatch("addVisitedView",o)}}catch(e){s=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(s)throw i}}},addViewTags:function(){return this.$route.name&&this.$store.dispatch("addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick(function(){var s=!0,i=!1,a=void 0;try{for(var r,o=n()(t);!(s=(r=o.next()).done);s=!0){var l=r.value;if(l.to.path===e.$route.path){e.moveToTarget(l),l.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("updateVisitedView",e.$route);break}}}catch(e){i=!0,a=e}finally{try{!s&&o.return&&o.return()}finally{if(i)throw a}}})},refreshSelectedTag:function(e){var t=e.fullPath;this.$router.replace({path:t})},closeSelectedTag:function(e){var t=this;this.$store.dispatch("delView",e).then(function(s){var i=s.visitedViews;if(t.isActive(e)){var n=i.slice(-1)[0];n?t.$router.push(n):t.$router.push("/")}})},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("delOthersViews",this.selectedTag).then(function(){e.moveToCurrentTag()})},closeAllTags:function(e){var t=this;this.$store.dispatch("delAllViews").then(function(s){var i=s.visitedViews;t.fixedTags.some(function(t){return t.path===e.path})||t.toLastView(i,e)})},toLastView:function(e,t){var s=e.slice(-1)[0];s?this.$router.push(s):"首页"===t.name?this.$router.replace({path:t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var s=this.$el.getBoundingClientRect().left,i=this.$el.offsetWidth+s-105,n=t.clientX+5;this.left=n>i?i:n,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,s=this.$refs.scrollContainer.$refs.wrap;s.scrollLeft=s.scrollLeft+t/4},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el.offsetWidth,s=this.$refs.scrollContainer.$refs.wrap,i=this.$refs.tag,n=null,a=null,r=null,o=null;i.length>0&&(n=i[0],a=i[i.length-1]);for(var l=0;l<i.length;l++)if(i[l]===e){0===l?o=i[l].length>1&&i[l+1]:l===i.length-1?r=i[l].length>1&&i[l-1]:(r=i[l-1],o=i[l+1]);break}if(n===e)s.scrollLeft=0;else if(a===e)s.scrollLeft=s.scrollWidth-t;else{var c=o.$el.offsetLeft+o.$el.offsetWidth+4,u=r.$el.offsetLeft-4;c>s.scrollLeft+t?s.scrollLeft=c-t:u<s.scrollLeft&&(s.scrollLeft=u)}}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"views-container"},[s("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll(t)}}},e._l(e.visitedViews,function(t){return s("router-link",{key:t.path,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath,fixed:t.fixed},tag:"span"},nativeOn:{mouseup:function(s){return"button"in s&&1!==s.button?null:e.closeSelectedTag(t)},contextmenu:function(s){return s.preventDefault(),e.openMenu(t,s)}}},[e._v("\n      "+e._s(t.name)+"\n      "),t.fixed?e._e():s("span",{staticClass:"el-icon-close",on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.closeSelectedTag(t)}}})])}),1),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top+"px"}},[s("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),e._v(" "),e.selectedTag.fixed?e._e():s("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),e._v(" "),s("li",{on:{click:e.closeOthersTags}},[e._v("关闭其他")]),e._v(" "),s("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])])],1)},staticRenderFns:[]};var h=s("VU/8")(u,d,!1,function(e){s("fSNW"),s("F+O8")},"data-v-6d9e4824",null);t.default=h.exports},yfbe:function(e,t){}});
//# sourceMappingURL=3.8e14216e150138d4f4c2.js.map